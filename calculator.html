<!DOCTYPE html>
<html>
  <head>
    <title>calculator</title>
  </head>
  <body>
    <p id="o">This is the calculator:
    </p>
    <form id="thing" action="javascript:alert('tutu')">
      <label for="firstn">first number:</label><br>
      <input type="text" id="firstn" name="firstn" value=""><br>
      <label for="lastn">second number:</label><br>
      <input type="text" id="lastn" name="lastn" value=""><br><br>
      <label for="op">operation:</label><br>
      <select id="op" name="operation">
      <option value=""></option>
      <option value="+">+</option>
      <option value="tnum">triangular number</option>
      <option value="!">factorial</option>
      <option value="*">*</option>
      <option value="gcd">gcd</option>
      <option value="%">%</option>
      <option value="-">-</option>
      </select><br><br>
    </form>
    <button onclick="myFunction()">Try it</button>
    <p id="me">The answer will be here:
    </p>
    <p id="output">
    </p>
    <script>
      function add(n, m) {
        console.log(n,m);
        if (n === 0) {
          return m
        }else if (m === 0) {
          return n
        }else {
          m = m - 1
          n = n + 1
        }
        return add(n, m)
      }

      function subtract(n, m) {
        console.log(n,m);
        if (n === 0){
          return m;
        }else if (m === 0){
          return n;
        }else {
          m = m - 1;
        	n = n - 1;
        }
        return subtract(n, m)
      }

      function times(n, m) {
        console.log(n,m);
        if (m === 0) {
          return 0;
        } else if (m === 1){
          return n;
        } else{
          return add(n, times(n, m - 1));
        }
      }

      function gcd(m, n) {
        console.log(n,m);
        if (n > m) {
          return gcd(n, m);
        }
        var r = m % n;
        if (r === 0) {
          return n;
        }
        return gcd(n, r);
      }

      function tnumber(n) {
        console.log(n);
        if (n === 1)
          return 1;
        else if (n < 0)
          return "invalid entry";
        return add(n, tnumber(n - 1));
      }

      function factorial(n){
        console.log(n);
        if (n === 1){
          return 1;
        } else if(n === 0){
          return 1;
        } else {
          return times(n, factorial(n - 1));
        }
      }
      function remainder(n,m){
        console.log(n,m);
        if (n < m) {
          return n;
        } else{
          return remainder(n, m - n);
        }
      }
      function count(n, o, m) {
        if (o === "-"){
          return subtract(n, m);
        }else if (o === "gcd"){
          return gcd(n, m);
        }else if (o === "tnum"){
          return tnumber(n, m);
        }else if (o === "*"){
          return times(n, m);
        }else if (o === "+") {
          return add(n, m)
        }else if (o === "%") {
          return remainder(n, m)
        }else if (o === "!") {
          return factorial(n)
        }else {
          return "invalid entry";
        }
      }
      function myFunction() {
        //alert("myFunction")
        var x = document.getElementById("thing");
        var n = parseInt(x.elements[0].value);
        var m = parseInt(x.elements[1].value);
        var o = x.elements[2].value;
        var answer = count(n, o, m);
        document.getElementById("output").innerHTML = answer;
      }
    </script>
  </body>
</html>
