<!DOCTYPE html>
<html>
  <head>
    <title>calculator</title>
    <style media="screen">
      body {background:yellow;}
      #o {
        color:purple;
        top: 20%;
      }
      button {
        color:purple;
        width:60px;
        height:30px;
        position: fixed;
        top: 65%;
        left: 50%;
        margin-top: -100px;
        margin-left: -100px;
      }
      #output {color:green;
        top: 75%;
      }
      #me {color:green;
        top: 70%;
      }
      p{
        width:300px;
        height:300px;
        position: fixed;
        left: 50%;
        margin-top: -100px;
        margin-left: -100px;
      }
      form {
        width:300px;
        height:300px;
        position: fixed;
        top: 50%;
        left: 50%;
        margin-top: -100px;
        margin-left: -100px;
      }
      img {
        position: fixed;
        top: 30%;
        left: 50%;
        margin-top: -100px;
        margin-left: -100px;
      }
    </style>
  </head>
  <body>
    <p id="o">This is the calculator:
    </p>
    <!--
    <phajxvgjhvga id="">the function is: </p>
    -->
    <img src = "https://www.kasandbox.org/programming-images/avatars/aqualine-tree.png" width="100">
    <form id="thing" action="javascript:alert('tutu')">
      first number:  <input type="text" id="firstn" name="firstn" value=""><br><br>
      second number: <input type="text" id="lastn" name="lastn" value=""><br><br>
      operation:     <select id="op" name="operation">
        <option value=""></option>
        <option value="/">/</option>
        <option value="+">+</option>
        <option value="tnum">triangular number</option>
        <option value="!">factorial</option>
        <option value="*">*</option>
        <option value="gcd">gcd</option>
        <option value="%">%</option>
        <option value="-">-</option>
        <option value="^">^</option>
      </select><br><br>
    </form>
    <button onclick="convert()">Try it</button>
    <p id="me">The answer will be here:
    </p>
    <p id="output">
    </p>

    <script>
      function add(n, m) {
        if (n === 0) {
          return m
        }else if (m === 0) {
          return n
        }else {
          m = m - 1
          n = n + 1
        }
        return add(n, m)
      }

      function subtract(n, m) {
        if (n === 0){
          return m;
        }else if (m === 0){
          return n;
        }else {
          m = m - 1;
        	n = n - 1;
        }
        return subtract(n, m)
      }

      function times(n, m) {
        if (m === 0) {
          return 0;
        } else if (m === 1){
          return n;
        } else{
          return add(n, times(n, m - 1));
        }
      }

      function power(n,m){
        if (m === 1){
          return n;
        } else {
          return times(n,power(n,m - 1));
        }
      }

      function remainder(n,m){
        while (n >= m){
          n -= m;
        }
        return (n);
      }

      function gcd(m, n) {
        if (n > m) {
          return gcd(n, m);
        }
        var r = m % n;
        if (r === 0) {
          return n;
        }
        return gcd(n, r);
      }

      function tnumber(n) {
        if (n === 1)
          return 1;
        else if (n < 0)
          return "invalid entry";
        return add(n, tnumber(n - 1));
      }

      function factorial(n){
        if (n === 1){
          return 1;
        } else if(n === 0){
          return 1;
        } else {
          return times(n, factorial(n - 1));
        }
      }

      function divide(n,m){
        if (m === 0){
          return "invalid entry";
        } else if (m === 1){
          return n;
        } else {
          var c = 0;
          while (n >= m){
            n -= m;
            c ++;
          }
        return c + " R" + n;
        }
      }

      function count(n, o, m) {
        if (n < 0 || m < 0)
        else if (o === "-"){
          return subtract(n, m);
        }else if (o === "gcd"){
          return gcd(n, m);
        }else if (o === "tnum"){
          return tnumber(n, m);
        }else if (o === "*"){
          return times(n, m);
        }else if (o === "+") {
          return add(n, m)
        }else if (o === "%") {
          return remainder(n, m)
        }else if (o === "!") {
          return factorial(n)
        }else if (o === "^") {
          return power(n,m)
        }else if (o === "/") {
          return divide(n,m)
        }else {
          return "invalid entry";
        }
      }
      function convert() {
        var x = document.getElementById("thing");
        var n = parseInt(x.elements[0].value);
        var m = parseInt(x.elements[1].value);
        var o = x.elements[2].value;
        var answer = count(n, o, m);
        document.getElementById("output").innerHTML = answer;
      }
    </script>
  </body>
</html>
